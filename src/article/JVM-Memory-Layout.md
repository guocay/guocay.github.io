---
title: 'Java虚拟机内存布局'
icon: note
isOriginal: true
date: 2023-04-26
tag:
  - JDK
category: "Java"
---

## MarkWord

| 状态   | 54位                        | 2位    | 1位 | 分代年龄(4位) | 是否偏向(1位) | 锁标记(2位) |
|------|----------------------------|-------|----|----------|----------|---------|
| 无锁   | HashCode(31位,前25位无用.)      |       | 无用 | 分代年龄     | 0        | 01      |
| 偏向锁  | 线程ID                       | epoch | 无用 | 分代年龄     |          | 10      |
| 轻量级锁 | 指向持有锁线程的lockRecord的指针(62位) |       |    |          |          | 00      |
| 重量级锁 | 指向monitor的指针(62位)          |       |    |          |          | 10      |
| GC标记 | CMS过程中用到的标志位(62位)          |       |    |          |          | 11      |
